import "@/styles/globals.scss";
import Header from "@/components/layout/Header.jsx";
import Footer from "@/components/layout/Footer.jsx";
import { JsonContextProvider } from "@/context/jsonContext";
import QuotePopup from "@/components/quote/QuotePopup.jsx";
import SuccessPopup from "@/components/layout/SuccessPopup.jsx";

import "slick-carousel/slick/slick.css";
import "slick-carousel/slick/slick-theme.css";

import { Providers } from '../redux/providers';

export const metadata = {
  title: "Gold Center",
  description: "Generated by create next app",
};

export default async function RootLayout({ children }) {

  // Settings Data Fetching
  // const res = await fetch(process.env.NEXT_PUBLIC_DATA_API + '/settings' , {cache: 'no-cache'} )
  // const { data } = await res.json() || null

  return (
    <JsonContextProvider>
      <html lang="en">
        <body className='flex flex-col'>
          <Providers>
            <Header />
            <SuccessPopup />
              <div className="flex-1 main-wrapper">
                {children}
              </div>
            <QuotePopup />
            <Footer />
          </Providers>
        </body>
      </html>
    </JsonContextProvider>
  );
}
